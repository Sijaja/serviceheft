<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Main Page</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="css/styles.css" rel="stylesheet">
    </head>
    <body>
        <div class="container">
            <!-- Top banner -->
            <div class="row g-0 align-items-stretch" id="topBanner">
                <div class="col-10">
                    <div class="card-box h-100">
                        <h1 class="text-left">MDSH</h1>
                    </div>
                </div>
                <div class="col-2">
                    <div class="card-box h-100 " id="clickable" onclick="location.href='index.html';" style="cursor:pointer;">
                        <h4 class="text-center">‚èª</h4>
                        <h4 class="text-center">Abmelden</h4>
                    </div>
                </div>
            </div>
            <div class="row g-0">
                <!-- Side banner -->
                <div class="col-2" id="sidebanner">
                    <div class="card-box" id="sidebanner">
                        <img src="img/profilePic.jpg" alt="Profile Picture" class="img-fluid rounded-circle mb-3">
                        <h4 class="text-center">Username</h4>
                    </div>
                    <div class="card-box" id="clickable">
                        <h4 class="text-center">üöò</h4>
                        <h5 class="text-center">mein Autos</h5>
                    </div>
                    <div class="card-box" id="clickable">
                        <h4 class="text-center">‚öôÔ∏è</h4>
                        <h5 class="text-center">Einstellungen</h5>
                    </div>
                    <div class="card-box" id="clickable">
                        <h4 class="text-center">üìä</h4>
                        <h5 class="text-center">Statistics</h5>
                    </div>
                    <div class="card-box" id="clickable">
                        <h4 class="text-center">‚ö†Ô∏è</h4>
                        <h5 class="text-center">Warnungen</h5>
                    </div>
                    <div class="card-box" id="clickable">
                        <h4 class="text-center">üë®‚Äçüîß</h4>
                        <h5 class="text-center">Werkstatt finden</h5>
                    </div>
                </div>
                <!-- Main content -->
                <div class="col-10">
                    <!-- Basic Car information -->
                    <div class="row g-0">
                        <div class="col-6">
                            <div class="card-box">
                                <div class="row text-center g-0"><h1>Auto Information</h1></div>
                                <div class="row g-0">
                                    <div class="col-6 text-end fw-bold">
                                        <p></p>
                                        <p>Manufacturer: </p>
                                        <p>Model: </p>
                                        <p>Baujahr: </p>
                                        <p>Kilometerstand: </p>
                                        <p>Pickerl gultig bis: </p>
                                        <p>Farbe: </p>
                                        <p>VIN Nummer: </p>
                                    </div>
                                    <div class="col-6">
                                        <p></p>
                                        <p><span id="manufacturer"></span></p>
                                        <p><span id="model"></span></p>
                                        <p><span id="baujahr"></span></p>
                                        <p><span id="kilo"></span></p>
                                        <p><span id="pickerl"></span></p>
                                        <p><span id="color"></span></p>
                                        <p><span id="vin"></span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="card-box" id="car">
                                <img src="img/Cars/fiesta2008.jpg" alt="Ford Fiesta 2008" height="380" class="img-fluid">
                            </div>
                        </div>
                    </div>
                    <!-- Additional car information -->
                    <div class="row g-0">
                        <div class="col-12">
                            <div class="card-box">
                                <h3 class="text-center">Additional car Info</h3>
                                <div class="row g-0">
                                    <div class="col-6 text-center">
                                        <h5>Next Maintenance Date:</h5>
                                        <p id="nextMtnc">‚Ç¨ 0.00</p>
                                    </div>
                                    <div class="col-6 text-center">
                                        <h5>Next Maintenance Milage:</h5>
                                        <p id="nextMileage">‚Ç¨ 0.00</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Statistics and Maintenance Records -->
                    <div class="row g-0">
                        <div class="col-12">
                            <div class="card-box">
                                <div class="row g-0">
                                    <div class="col-6 text-center">
                                        <h5>Total Maintenance Cost:</h5>
                                        <p id="totalCost">‚Ç¨ 0.00</p>
                                        <canvas id="costComparisonChart"></canvas>
                                    </div>
                                    <div class="col-6 text-center">
                                        <h5>Average Cost per Repair:</h5>
                                        <p id="averageCost">‚Ç¨ 0.00</p>
                                        <canvas id="AverageCostComparisonChart"></canvas>
                                    </div>
                                </div>
                                <div class="row g-0"><hr></div>
                                <div class="row g-0">
                                    <div class="col-6 text-center">
                                        <h5>Car Health Status</h5>
                                        <canvas id="carStatusGauge" class="mx-auto d-block" height="300px"></canvas>
                                    </div>
                                    <div class="col-6 text-center">
                                        <h5>Car Health Explanation</h5>
                                        <p id="carHealthExplanation">Your car is in excellent condition. Regular maintenance has kept it running smoothly, minimizing wear and tear on essential components. Keep up the good work to ensure your vehicle remains reliable and safe on the road.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Yearly maintenance cost chart -->
                    <div class="row g-0">
                        <div class="col-12">
                            <div class="card-box">
                                <canvas id="costChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <!-- Maintenance records -->
                    <div class="row g-0">
                        <div class="col-12">
                            <div class="card-box">
                                <table class="table table-striped" id="myTable">
                                    <thead>
                                        <tr>
                                            <th scope="col">Date</th>
                                            <th scope="col">Description</th>
                                            <th scope="col">Cost</th>
                                            <th scope="col">Mileage</th>
                                            <th scope="col">Workshop</th>
                                        </tr>
                                    </thead>
                                    <tbody id="maintenanceTableBody">
                                        <!-- Maintenance records will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-gauge@3.0.0/dist/chartjs-chart-gauge.min.js"></script>

        <script src="script.js"></script>
        <script>
             document.addEventListener("DOMContentLoaded", () => {
                getCar(5);
                loadCostComparison(5);
                loadAverageCostComparison(5);
                loadYearlyChart(5);
                loadCarHealth(5);
            });
        </script>
    </body>
</html>